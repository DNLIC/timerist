<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Timerist Duration Entry – iPhone 13 Portrait Optimized</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            border: "hsl(var(--border))",
            input: "hsl(var(--input))",
            ring: "hsl(var(--ring))",
            background: "hsl(var(--background))",
            foreground: "hsl(var(--foreground))",
            primary: { DEFAULT: "hsl(var(--primary))", foreground: "hsl(var(--primary-foreground))" },
            secondary: { DEFAULT: "hsl(var(--secondary))", foreground: "hsl(var(--secondary-foreground))" },
            muted: { DEFAULT: "hsl(var(--muted))", foreground: "hsl(var(--muted-foreground))" },
          },
          borderRadius: { lg: "var(--radius)", md: "calc(var(--radius) - 2px)", sm: "calc(var(--radius) - 4px)" },
        },
      },
    }
  </script>
  
  <!-- Lucide icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  
  <!-- React + Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    :root {
      --background: 0 0% 100%;
      --foreground: 222.2 84% 4.9%;
      --primary: 222.2 47.4% 11.2%;
      --primary-foreground: 210 40% 98%;
      --secondary: 210 40% 96.1%;
      --muted: 210 40% 96.1%;
      --radius: 0.75rem;
    }
    body { font-family: system-ui, -apple-system, sans-serif; }
    [type="number"] { -moz-appearance: textfield; }
    [type="number"]::-webkit-inner-spin-button,
    [type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
    /* Safe area padding helpers */
    .safe-pb { padding-bottom: env(safe-area-inset-bottom, 16px); }
    .safe-pt { padding-top: env(safe-area-inset-top, 0px); }
  </style>
</head>
<body class="min-h-screen bg-background text-foreground antialiased safe-pt pb-20">

  <div class="max-w-md mx-auto px-4 sm:px-6">
    <header class="text-center py-6">
      <h1 class="text-2xl font-bold">Timerist – iPhone Portrait Demo</h1>
      <p class="text-sm text-muted-foreground mt-1">Optimized for vertical iPhone 13 (390×844 viewport)</p>
    </header>

    <!-- 1. Slider -->
    <section class="space-y-5 mb-10">
      <h2 class="text-lg font-semibold">1. Large Slider (Drag / Tap Track)</h2>
      <div id="slider-root" class="bg-card rounded-xl p-5 shadow-sm"></div>
    </section>

    <!-- 2. Stepper + Presets -->
    <section class="space-y-5 mb-10">
      <h2 class="text-lg font-semibold">2. Stepper + Quick Presets</h2>
      <div id="stepper-root" class="bg-card rounded-xl p-5 shadow-sm"></div>
    </section>

    <!-- 3. Bottom Sheet Trigger -->
    <section class="space-y-5 mb-10">
      <h2 class="text-lg font-semibold">3. Settings Bottom Sheet</h2>
      <div id="sheet-root"></div>
    </section>

    <!-- 4. Timer Face (Tap to simulate edit) -->
    <section class="text-center">
      <h2 class="text-lg font-semibold mb-4">4. Timer Display (Tap to Edit)</h2>
      <div id="timer-display" class="text-6xl font-mono font-bold py-10 bg-card rounded-2xl shadow-sm cursor-pointer active:opacity-80 select-none">
        25:00
      </div>
    </section>
  </div>

  <script type="text/babel">
    const { useState } = React;

    // 1. Slider (custom large thumb simulation)
    function SliderDemo() {
      const [value, setValue] = useState([25]);
      return (
        <div className="space-y-4">
          <div className="text-5xl font-bold text-center">{value[0]} min</div>
          <div className="[&_*]:touch-manipulation relative h-14 flex items-center">
            <div className="absolute h-4 w-full bg-muted rounded-full" />
            <div className="absolute h-4 bg-primary rounded-full" style={{width: `${value[0]/1.2}%`}} />
            <input
              type="range" min="0" max="120" step="1" value={value[0]}
              className="absolute w-full h-14 opacity-0 cursor-pointer appearance-none pointer-events-auto"
              onInput={e => setValue([parseInt(e.target.value)])}
            />
            <div className="absolute h-10 w-10 bg-background border-4 border-primary rounded-full shadow-lg -translate-x-1/2" style={{left: `${value[0]/1.2}%`}} />
          </div>
        </div>
      );
    }

    // 2. Stepper + Presets
    function StepperDemo() {
      const [minutes, setMinutes] = useState(10);
      const change = delta => setMinutes(v => Math.max(0, v + delta));
      const presets = [5,10,15,20,30,45,60];

      return (
        <div className="space-y-6">
          <div className="flex items-center justify-center gap-3 flex-wrap">
            <button className="touch-manipulation rounded-full bg-secondary p-6 text-3xl min-w-[72px] min-h-[72px] flex items-center justify-center active:bg-muted" onClick={() => change(-10)}>−10</button>
            <button className="touch-manipulation rounded-full bg-secondary p-6 text-3xl min-w-[72px] min-h-[72px] flex items-center justify-center active:bg-muted" onClick={() => change(-1)}>−</button>
            <div className="text-6xl font-mono font-bold w-32 text-center">{minutes}</div>
            <button className="touch-manipulation rounded-full bg-primary text-primary-foreground p-6 text-3xl min-w-[72px] min-h-[72px] flex items-center justify-center active:opacity-80" onClick={() => change(1)}>+</button>
            <button className="touch-manipulation rounded-full bg-primary text-primary-foreground p-6 text-3xl min-w-[72px] min-h-[72px] flex items-center justify-center active:opacity-80" onClick={() => change(10)}>+10</button>
          </div>
          <div className="flex flex-wrap gap-3 justify-center">
            {presets.map(p => (
              <button key={p} className="touch-manipulation px-6 py-4 bg-muted rounded-full text-lg font-medium active:bg-accent min-h-[52px]" onClick={() => setMinutes(p)}>
                {p} min
              </button>
            ))}
          </div>
        </div>
      );
    }

    // 3. Bottom Sheet
    function SheetDemo() {
      const [open, setOpen] = useState(false);
      const [duration, setDuration] = useState(30);

      return (
        <>
          <button 
            className="touch-manipulation bg-primary text-primary-foreground px-8 py-5 rounded-xl text-xl font-medium w-full min-h-[60px] active:opacity-90 shadow-md"
            onClick={() => setOpen(true)}
          >
            Open Settings Sheet ({duration} min)
          </button>

          {open && (
            <div className="fixed inset-0 bg-black/60 flex items-end z-50" onClick={() => setOpen(false)}>
              <div 
                className="bg-card w-full rounded-t-3xl p-6 max-h-[85vh] overflow-y-auto overscroll-y-contain touch-manipulation safe-pb shadow-2xl"
                onClick={e => e.stopPropagation()}
              >
                <div className="flex justify-center mb-5">
                  <div className="w-12 h-1.5 bg-muted rounded-full" /> {/* Grabber */}
                </div>
                <div className="flex justify-between items-center mb-6">
                  <h3 className="text-xl font-semibold">Timer Settings</h3>
                  <button className="text-3xl text-muted-foreground" onClick={() => setOpen(false)}>×</button>
                </div>
                <div className="space-y-8">
                  <div>
                    <label className="block text-base font-medium mb-3">Duration (min)</label>
                    <div className="text-6xl font-bold text-center mb-6">{duration}</div>
                    <input 
                      type="range" min="0" max="120" step="5" value={duration}
                      className="w-full h-5 bg-muted rounded-full appearance-none cursor-pointer touch-manipulation accent-primary"
                      onInput={e => setDuration(parseInt(e.target.value))}
                    />
                  </div>
                  <div>
                    <label className="block text-base font-medium mb-3">Presets</label>
                    <div className="grid grid-cols-3 gap-4">
                      {[10,20,30,45,60,90].map(v => (
                        <button key={v} className="touch-manipulation py-4 bg-muted rounded-xl text-lg font-medium active:bg-accent min-h-[56px]" onClick={() => setDuration(v)}>
                          {v} min
                        </button>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          )}
        </>
      );
    }

    // Render
    ReactDOM.render(<SliderDemo />, document.getElementById('slider-root'));
    ReactDOM.render(<StepperDemo />, document.getElementById('stepper-root'));
    ReactDOM.render(<SheetDemo />, document.getElementById('sheet-root'));

    // Timer tap simulation
    document.getElementById('timer-display').addEventListener('click', () => {
      alert('In real Timerist: Opens bottom sheet or inline editor with slider/stepper');
    });

    lucide.createIcons();
  </script>

</body>
</html>